{"version":3,"sources":["../../src/server/renderer.tsx"],"names":["renderSSR","request","response","isServer","send","sheet","ServerStyleSheet","app","instance","url","styles","getStyleTags","head","Head","renderStatic","html","serverRenderer"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;AAEO,MAAMA,SAAS,GAAG,OAAOC,OAAP,EAAgBC,QAAhB,KAA6B;AACrD,QAAMC,QAAQ,GAAG,OAAOD,QAAP,KAAoB,QAApB,IAAgC,OAAOA,QAAQ,CAACE,IAAhB,KAAyB,UAA1E;AACA,QAAMC,KAAK,GAAG,IAAIC,kCAAJ,EAAd;AACA,QAAMC,GAAG,GAAG,oBACX,6BAAC,mCAAD;AAAmB,IAAA,KAAK,EAAEF,KAAK,CAACG;AAAhC,KACC,6BAAC,yBAAD;AAAc,IAAA,QAAQ,EAAEP,OAAO,CAACQ,GAAhC;AAAqC,IAAA,OAAO,EAAE;AAA9C,KACC,6BAAC,QAAD,OADD,CADD,CADW,CAAZ;AAOA,QAAMC,MAAM,GAAGL,KAAK,CAACM,YAAN,EAAf;;AACA,QAAMC,IAAI,GAAGC,WAAKC,YAAL,EAAb;;AACA,QAAMC,IAAI,GAAG,qBAAQ,6BAAC,kBAAD;AAAU,IAAA,IAAI,EAAEH,IAAhB;AAAsB,IAAA,MAAM,EAAEF,MAA9B;AAAsC,IAAA,GAAG,EAAEH,GAA3C;AAAgD,IAAA,QAAQ,EAAEJ;AAA1D,IAAR,CAAb;;AACA,MAAIA,QAAJ,EAAc;AACb,WAAOD,QAAQ,CAACE,IAAT,CAAcW,IAAd,CAAP;AACA;;AACD,SAAOA,IAAP;AACA,CAjBM;;;;AAkBA,MAAMC,cAAc,GAAG,MAAMhB,SAA7B;;;;;;;;;;;;0BAlBMA,S;0BAkBAgB,c","sourcesContent":["import {Head} from \"@ngineer/head\";\nimport {toHTML, toHTML5} from \"@ngineer/server\";\nimport React from \"react\";\nimport {StaticRouter} from \"react-router\";\nimport {ServerStyleSheet, StyleSheetManager} from \"styled-components\";\nimport {Document} from \"./template\";\nimport {App} from \"../app\"\n\nexport const renderSSR = async (request, response) => {\n\tconst isServer = typeof response === \"object\" && typeof response.send === \"function\";\n\tconst sheet = new ServerStyleSheet();\n\tconst app = toHTML(\n\t\t<StyleSheetManager sheet={sheet.instance}>\n\t\t\t<StaticRouter location={request.url} context={{}}>\n\t\t\t\t<App />\n\t\t\t</StaticRouter>\n\t\t</StyleSheetManager>\n\t);\n\tconst styles = sheet.getStyleTags();\n\tconst head = Head.renderStatic();\n\tconst html = toHTML5(<Document head={head} styles={styles} app={app} isServer={isServer} />);\n\tif (isServer) {\n\t\treturn response.send(html);\n\t}\n\treturn html;\n};\nexport const serverRenderer = () => renderSSR;\n"],"file":"renderer.js"}